"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[744],{4909:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>P,contentTitle:()=>k,default:()=>T,frontMatter:()=>j,metadata:()=>R,toc:()=>A});var s=i(7462),h=(i(7294),i(3905)),r=i(719),n=i(708),a=i(7888),o=i(8788),l=i(4114),c=i(621);class u{constructor(t,e){this.nh=t,this.ah=e,this.uh=0,this.lh=0,this.gh=0,this.Ch=null,this.dh=!0}calculateFCost(){this.gh=this.uh+this.lh}equals(t){return this.nh===t.nh&&this.ah===t.ah}get x(){return this.nh}get y(){return this.ah}get gCost(){return this.uh}set gCost(t){this.uh=t}get hCost(){return this.lh}set hCost(t){this.lh=t}get fCost(){return this.gh}set fCost(t){this.gh=t}get isWalkable(){return this.dh}set isWalkable(t){this.dh=t}get previousNode(){return this.Ch}set previousNode(t){this.Ch=t}}class d{constructor(t,e=.5,i=.5,s=1e3){var h;this.ar=null!==(h=null==t?void 0:t.slice())&&void 0!==h?h:[],this.tn=e,this.en=i,this.nn=s}addCollideMap(t){this.ar.push(t)}findPath(t,e){const i=new u(t.x,t.y),s=new u(e.x,e.y);if(this.on(i.x,i.y))return null;if(this.on(s.x,s.y))return null;const h=[],r=[];i.gCost=0,i.hCost=this.rn(i,s),i.calculateFCost(),h.push(i);let n=0;for(;h.length>0&&n<this.nn;){n++;const t=this.sn(h);if(t.equals(s))return this.hn(t);h.splice(h.indexOf(t),1),r.push(t);const e=this.ln(t);for(let i=0;i<e.length;i++){const n=e[i];if(void 0!==r.find((t=>t.equals(n))))continue;if(n.gCost=Number.MAX_VALUE,n.calculateFCost(),n.previousNode=null,this.on(n.x,n.y)){r.push(n);continue}const a=t.gCost+this.rn(t,n);a<n.gCost&&(n.previousNode=t,n.gCost=a,n.hCost=this.rn(n,s),n.calculateFCost(),void 0===h.find((t=>t.equals(n)))&&h.push(n))}}return null}ln(t){const e=[];return e.push(new u(t.x,t.y-1)),e.push(new u(t.x+1,t.y)),e.push(new u(t.x,t.y+1)),e.push(new u(t.x-1,t.y)),e}hn(t){const e=[];let i=t;for(;i.previousNode;)e.push(new l.F(i.x,i.y)),i=i.previousNode;return e.push(new l.F(i.x,i.y)),e.reverse()}rn(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}sn(t){let e=t[0];for(let i=1;i<t.length;i++)t[i].fCost<e.fCost&&(e=t[i]);return e}on(t,e){const i=this.ar;for(let s=0;s<i.length;s++){const h=i[s];if(h.checkCollision(t*h.gridCellWidth+h.gridCenterX,e*h.gridCellHeight+h.gridCenterY,this.tn,this.en))return!0}return!1}}var g,p,f=i(3674);(p=g||(g={}))[p.Up=0]="Up",p[p.Down=1]="Down",p[p.Left=2]="Left",p[p.Right=3]="Right";class m extends f.w{constructor(){super(...arguments),this.Do=g.Down,this.xo=!1}get direction(){return this.Do}set direction(t){this.Do=t}get isMoving(){return this.xo}set isMoving(t){this.xo=t}}class b extends m{constructor(){super(...arguments),this.disallowMultipleComponent=!0,this.Ph=8,this.Th=1,this.Ih=1,this.ar=[],this.Wh=.5,this.Gh=new l.F,this.Lh=new l.F,this.Rh=new l.F,this.Uh=new l.F,this.Hh=new c.n,this.Oh=new c.n,this.dr=null,this.pr=null,this.Fh=!1,this.Jh=null,this.Kh=0,this.Nh=null,this.Qh=new l.F,this.Xh=new l.F,this.Yh=-1,this.Zh=new l.F,this.$h=.3,this.vr=t=>{if(0!==t.button)return;this.Fh=!1;const e=this.engine.time.unscaledTime;e-this.Yh<this.$h?this.Zh.equals(t.gridPosition)&&(this.Dr(t),this.Yh=-1):(this.Yh=e,this.Zh.copy(t.gridPosition))}}start(){this.pr=new d(this.ar,this.Ih*this.Wh,this.Th*this.Wh);const t=this.transform,e=t.position;e.x=this.Gh.x+this.Uh.x*this.Ih,e.y=this.Gh.y+this.Uh.y*this.Th,this.Lh.set(t.localPosition.x,t.localPosition.y);const i=t.parent;i&&this.Qh.set(i.position.x,i.position.y)}update(){var t;null===(t=this.Nh)||void 0===t||t.call(this),this._r(),this.Cr(),this.Ar()}_r(){if(this.isMoving)return void this.Mr();const t=this.engine.input.map;if(t.get("w")||t.get("W")||t.get("ArrowUp")){if(this.direction=g.Up,this.on(this.Lh.x,this.Lh.y+this.Th))return;this.Rh.set(this.Lh.x,this.Lh.y+this.Th),this.Vr(this.Rh),this.isMoving=!0}else if(t.get("s")||t.get("S")||t.get("ArrowDown")){if(this.direction=g.Down,this.on(this.Lh.x,this.Lh.y-this.Th))return;this.Rh.set(this.Lh.x,this.Lh.y-this.Th),this.Vr(this.Rh),this.isMoving=!0}else if(t.get("a")||t.get("A")||t.get("ArrowLeft")){if(this.direction=g.Left,this.on(this.Lh.x-this.Ih,this.Lh.y))return;this.Rh.set(this.Lh.x-this.Ih,this.Lh.y),this.Vr(this.Rh),this.isMoving=!0}else if(t.get("d")||t.get("D")||t.get("ArrowRight")){if(this.direction=g.Right,this.on(this.Lh.x+this.Ih,this.Lh.y))return;this.Rh.set(this.Lh.x+this.Ih,this.Lh.y),this.Vr(this.Rh),this.isMoving=!0}}Tr(t){const e=this.engine.input.map;return e.get("w")||e.get("W")||e.get("ArrowUp")?(this.direction=g.Up,!this.on(t.x,t.y+this.Th)&&(this.Rh.set(t.x,t.y+this.Th),this.Vr(this.Rh),!0)):e.get("s")||e.get("S")||e.get("ArrowDown")?(this.direction=g.Down,!this.on(t.x,t.y-this.Th)&&(this.Rh.set(t.x,t.y-this.Th),this.Vr(this.Rh),!0)):e.get("a")||e.get("A")||e.get("ArrowLeft")?(this.direction=g.Left,!this.on(t.x-this.Ih,t.y)&&(this.Rh.set(t.x-this.Ih,t.y),this.Vr(this.Rh),!0)):!!(e.get("d")||e.get("D")||e.get("ArrowRight"))&&(this.direction=g.Right,!this.on(t.x+this.Ih,t.y)&&(this.Rh.set(t.x+this.Ih,t.y),this.Vr(this.Rh),!0))}Vr(t){this.Hh.invoke(Math.floor(this.Rh.x/this.Ih),Math.floor(this.Rh.y/this.Th))}kr(t){this.Oh.invoke(Math.floor(this.Lh.x/this.Ih),Math.floor(this.Lh.y/this.Th))}Mr(){const t=this.engine.input.map;(t.get("w")||t.get("W")||t.get("ArrowUp")||t.get("s")||t.get("S")||t.get("ArrowDown")||t.get("a")||t.get("A")||t.get("ArrowLeft")||t.get("d")||t.get("D")||t.get("ArrowRight"))&&(this.Fh=!1)}Cr(){if(!this.Fh)return;const t=this.transform,e=this.Xh.set(t.localPosition.x,t.localPosition.y),i=this.Jh[this.Kh];if(i.distanceTo(e)<this.Ph*this.engine.time.deltaTime){if(this.Kh++,this.Kh>=this.Jh.length)return void(this.Fh=!1);this.kr(e)}if(this.on(i.x,i.y))return void(this.Fh=!1);if(this.Rh.equals(this.Jh[this.Kh]))return;this.Rh.copy(this.Jh[this.Kh]),this.Vr(this.Rh);const s=this.Jh[this.Kh-1].x,h=this.Jh[this.Kh-1].y,r=this.Jh[this.Kh].x,n=this.Jh[this.Kh].y;h<n?this.direction=g.Up:h>n?this.direction=g.Down:s<r?this.direction=g.Right:s>r&&(this.direction=g.Left),this.isMoving=!0}Ar(){if(!this.isMoving)return;const t=this.transform,e=new l.F(t.localPosition.x,t.localPosition.y);let i=e.distanceTo(this.Rh);if(i<this.Ph*this.engine.time.deltaTime&&this.Tr(this.Rh)&&(i=e.distanceTo(this.Rh),this.kr(e)),i>.01){const s=this.Xh.copy(this.Rh).sub(e).normalize();s.multiplyScalar(Math.min(this.Ph*this.engine.time.deltaTime,i)),t.localPosition.x+=s.x,t.localPosition.y+=s.y}else this.isMoving=!1,this.Lh.copy(this.Rh),t.localPosition.x=this.Lh.x,t.localPosition.y=this.Lh.y,this.kr(this.Rh)}on(t,e){t+=this.Qh.x,e+=this.Qh.y;for(let i=0;i<this.ar.length;i++)if(this.ar[i].checkCollision(t,e,this.Wh,this.Wh))return!0;return!1}Dr(t){if(this.Fh)return this.Fh=!1,void(this.Nh=()=>{this.tryStartPathfind(t.gridPosition)});this.Nh=()=>{this.tryStartPathfind(t.gridPosition)}}tryStartPathfind(t){return!this.Fh&&(this.Nh=null,this.Jh=this.pr.findPath(this.positionInGrid,t),!(!this.Jh||this.Jh.length<=1)&&(this.Jh.forEach((t=>{t.x=t.x*this.Ih+this.Gh.x,t.y=t.y*this.Th+this.Gh.y})),this.Kh=1,this.isMoving=!0,this.Fh=!0,!0))}cancelPathfind(){this.Fh=!1}get onMoveToTarget(){return this.Hh}get onMovedToTarget(){return this.Oh}get speed(){return this.Ph}set speed(t){this.Ph=t}get gridCenter(){return this.Gh}set gridCenter(t){this.Gh.copy(t)}get gridCellHeight(){return this.Th}set gridCellHeight(t){this.Th=t}get gridCellWidth(){return this.Ih}set gridCellWidth(t){this.Ih=t}set initPosition(t){this.Uh.copy(t)}set gridPointer(t){this.dr&&this.dr.onPointerDown.removeListener(this.vr),this.dr=t,this.dr&&this.dr.onPointerDown.addListener(this.vr)}get gridPointer(){return this.dr}addCollideMap(t){var e;this.ar.push(t),null===(e=this.pr)||void 0===e||e.addCollideMap(t)}setGridInfoFromCollideMap(t){this.Ih=t.gridCellWidth,this.Th=t.gridCellHeight,this.Gh.set(t.gridCenterX,t.gridCenterY)}get positionInGrid(){return new l.F(Math.floor(this.transform.localPosition.x/this.Ih),Math.floor(this.transform.localPosition.y/this.Th))}}var w=i(8018);var y=i(4837),v=i(1022);class x extends f.w{constructor(){super(...arguments),this.disallowMultipleComponent=!0,this.requiredComponents=[y.V],this.Or=null,this.Ur=new l.F,this.br=20,this.jr=1,this.yr=!1,this.qr=!1,this.zr=.1,this.Br=new v.P}start(){if(this.Or){const t=this.Br.copy(this.Or.transform.position);t.z+=this.br,this.transform.position.copy(t)}}update(){const t=this.Br.copy(this.Or.transform.position);t.z+=this.br,t.x+=this.Ur.x,t.y+=this.Ur.y;const e=this.transform;this.qr?e.position.lerp(t,.1):e.position.copy(t),this.yr&&(e.localPosition.x=Math.round(e.localPosition.x/this.jr)*this.jr,e.localPosition.y=Math.round(e.localPosition.y/this.jr)*this.jr)}setTrackTarget(t){this.Or=t}get targetOffset(){return this.Ur}set targetOffset(t){this.Ur.copy(t)}get cameraDistanceOffset(){return this.br}set cameraDistanceOffset(t){this.br=t}get pixelPerfectUnit(){return this.jr}set pixelPerfectUnit(t){this.jr=t}get pixelPerfect(){return this.yr}set pixelPerfect(t){this.yr=t}get lerpTrack(){return this.qr}set lerpTrack(t){this.qr=t}get lerpAlpha(){return this.zr}set lerpAlpha(t){this.zr=t}}class C extends class{constructor(t,e,i,s,h){this._instantiater=t.instantiater,this._gameObjectBuilder=new w.f(t,e,i,s,h)}get instantiater(){return this._instantiater}get gameObjectBuilder(){return this._gameObjectBuilder}}{constructor(){super(...arguments),this._trackObject=new a.s,this._camera=new a.s}withTrackObject(t){return this._trackObject=t,this}getCamera(t){return this._camera=t,this}make(){return this.gameObjectBuilder.withComponent(y.V).withComponent(x,(t=>{t.lerpTrack=!0,this._trackObject.ref&&t.setTrackTarget(this._trackObject.ref)})).getComponent(y.V,this._camera)}}class O extends n.A{run(){const t=this.instantiater,e=new a.s,i=new a.s;return this.sceneBuilder.withChild(t.buildPrefab("camera",C).withTrackObject(e).getCamera(i).make()).withChild(t.buildGameObject("player").withComponent(o._).withComponent(b).getGameObject(e))}}const j={},k="Prefab",R={unversionedId:"getting-started/prefab",id:"getting-started/prefab",title:"Prefab",description:"If you keep writing scenes on the bootstrapper, the bootstrapper will become too big.",source:"@site/docs/1-getting-started/7-prefab.mdx",sourceDirName:"1-getting-started",slug:"/getting-started/prefab",permalink:"/the-world-engine.ts/build/docs/getting-started/prefab",draft:!1,editUrl:"https://github.com/The-World-Space/the-world-engine.ts/tree/main/docs/docusaurus/docs/1-getting-started/7-prefab.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Get Component",permalink:"/the-world-engine.ts/build/docs/getting-started/get-component"},next:{title:"Add/Remove Object Dynamically",permalink:"/the-world-engine.ts/build/docs/getting-started/add-object-dynamically"}},P={},A=[{value:"Make a prefab",id:"make-a-prefab",level:2},{value:"Add a prefab to the builder",id:"add-a-prefab-to-the-builder",level:2}],D={toc:A};function T(t){let{components:e,...i}=t;return(0,h.kt)("wrapper",(0,s.Z)({},D,i,{components:e,mdxType:"MDXLayout"}),(0,h.kt)("h1",{id:"prefab"},"Prefab"),(0,h.kt)("p",null,"If you keep writing scenes on the bootstrapper, the bootstrapper will become too big."),(0,h.kt)("p",null,"You can use prefab to resolve this issue."),(0,h.kt)("h2",{id:"make-a-prefab"},"Make a prefab"),(0,h.kt)("p",null,"We going to make a camera prefab that tracks a specific object."),(0,h.kt)("pre",null,(0,h.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="./src/asset/prefab/CameraPrefab.ts"',title:'"./src/asset/prefab/CameraPrefab.ts"'},'import { \n    Camera,\n    GameObject,\n    GameObjectBuilder,\n    Prefab,\n    PrefabRef,\n    TrackCameraController\n} from "the-world-engine";\n\nexport class CameraPrefab extends Prefab {\n    private _trackObject = new PrefabRef<GameObject>();\n    private _camera = new PrefabRef<Camera>();\n\n    //If you add a value inside the prefab from the outside, you can create the with method\n    public withTrackObject(trackObject: PrefabRef<GameObject>): this {\n        this._trackObject = trackObject;\n        return this;\n    }\n\n    //When receiving the value inside the prefab from the outside, it is possible by creating the get method\n    public getCamera(componentRef: PrefabRef<Camera>): this {\n        this._camera = componentRef;\n        return this;\n    }\n\n    public override make(): GameObjectBuilder {\n        return this.gameObjectBuilder\n            .withComponent(Camera)\n            .withComponent(TrackCameraController, c => {\n                c.lerpTrack = true;\n                if (this._trackObject.ref) c.setTrackTarget(this._trackObject.ref);\n            })\n            .getComponent(Camera, this._camera)\n        ;\n    }\n}\n')),(0,h.kt)("h2",{id:"add-a-prefab-to-the-builder"},"Add a prefab to the builder"),(0,h.kt)("p",null,"Now we can create camera from CameraPrefab."),(0,h.kt)("pre",null,(0,h.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="./src/asset/Bootstrapper.ts"',title:'"./src/asset/Bootstrapper.ts"'},'import { /*...*/ } from "the-world-engine";\nimport { CameraPrefab } from "./prefab/CameraPrefab";\n\nexport class Bootstrapper extends BaseBootstrapper {\n    public run(): SceneBuilder {\n        const instantiater = this.instantiater;\n\n        const trackObject = new PrefabRef<GameObject>();\n        const camera = new PrefabRef<Camera>();\n\n        return this.sceneBuilder\n            .withChild(instantiater.buildPrefab("camera", CameraPrefab) // build prefab!\n                .withTrackObject(trackObject)\n                .getCamera(camera)\n                .make())\n\n            .withChild(instantiater.buildGameObject("player")\n                .withComponent(CssSpriteRenderer)\n                .withComponent(PlayerGridMovementController)\n                .getGameObject(trackObject))\n        ;\n    }\n}\n')),(0,h.kt)(r.Z,{bootstrapper:O,ignoreEvents:!0,mdxType:"DocumentGame"}))}T.isMDXComponent=!0},3367:(t,e,i)=>{i.d(e,{Q:()=>s});class s{}s.defaultSpriteSrc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA8SURBVDhP7dEhCgAxDADB+/k9Lh8rDCtq6yo6JrAhKt9s/k2JEjceNGlPiRI3HjRpT4kS7w81SpQ4PJhZxl3jEH3ZDWcAAAAASUVORK5CYII="},7888:(t,e,i)=>{i.d(e,{s:()=>s});class s{constructor(t=null){this.ref=t}}},8788:(t,e,i)=>{i.d(e,{_:()=>a});var s=i(3367),h=i(4627),r=i(7161),n=i(3379);class a extends r.Y{constructor(){super(...arguments),this.Ga=0,this.Ha=0,this.Xa=!1,this.Ya=!1,this.$a=1,this.ka=()=>{this.htmlElement&&(this.htmlElement.style.filter=this.Ui.toString())},this.Ui=new n.c(this.ka),this.xa=null}renderInitialize(){this.xa?this.xa():this.asyncSetImageFromPath(s.Q.defaultSpriteSrc)}updateCenterOffset(t){this.css3DObject&&(this.css3DObject.position.set(this.Ga*this.centerOffset.x,this.Ha*this.centerOffset.y,0),t&&(h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject)))}updateViewScale(t){if(!this.css3DObject)return;const e=this.viewScale,i=this.htmlElement;i.style.width=this.Ga/this.viewScale+"px",i.style.height=this.Ha/this.viewScale+"px";const s=this.Xa?-1:1,r=this.Ya?-1:1;this.css3DObject.scale.set(e*s,e*r,e),t&&(h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get image(){return this.htmlElement}asyncSetImageFromPath(t,e){var i;if(!this.readyToDraw)return void(this.xa=()=>this.asyncSetImageFromPath(t,e));const s=null!==(i=this.htmlElement)&&void 0!==i?i:new Image;s.src=t;const h=t=>{this.exists&&(s.removeEventListener("load",h),this.setImage(s),null==e||e())};s.addEventListener("load",h)}setImage(t){if(!t.complete)throw new Error(`Image {${t.src}} is not loaded.`);if(this.htmlElement=t,!this.readyToDraw)return void(this.xa=()=>this.setImage(t));t.alt=this.gameObject.name+"_sprite",t.style.imageRendering="pixelated",0===this.Ga&&(this.Ga=.1*t.naturalWidth),0===this.Ha&&(this.Ha=.1*t.naturalHeight),t.style.width=this.Ga/this.viewScale+"px",t.style.height=this.Ha/this.viewScale+"px",t.style.opacity=this.$a.toString(),t.style.filter=this.Ui.toString();const e=this.initializeBaseComponents(!1);h.w.updateRawObject3DWorldMatrixRecursively(e),this.transform.enqueueRenderAttachedObject3D(e)}get imageWidth(){return this.Ga}set imageWidth(t){this.Ga=t,this.htmlElement&&(this.htmlElement.style.width=t/this.viewScale+"px"),this.updateCenterOffset(!0)}get imageHeight(){return this.Ha}set imageHeight(t){this.Ha=t,this.htmlElement&&(this.htmlElement.style.height=t/this.viewScale+"px"),this.updateCenterOffset(!0)}get imageFlipX(){return this.Xa}set imageFlipX(t){this.Xa=t,this.css3DObject&&(this.Xa?0<this.css3DObject.scale.x&&(this.css3DObject.scale.x*=-1):this.css3DObject.scale.x<0&&(this.css3DObject.scale.x*=-1),h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get imageFlipY(){return this.Ya}set imageFlipY(t){this.Ya=t,this.css3DObject&&(this.Ya?0<this.css3DObject.scale.y&&(this.css3DObject.scale.y*=-1):this.css3DObject.scale.y<0&&(this.css3DObject.scale.y*=-1),h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get opacity(){return this.$a}set opacity(t){this.$a=t,this.htmlElement&&(this.htmlElement.style.opacity=this.$a.toString())}get filter(){return this.Ui}}},3379:(t,e,i)=>{i.d(e,{c:()=>r});var s=i(9760);class h{constructor(t=0,e=0,i=0,h=new s.I,r=null){this.tc=t,this.sc=e,this.ul=i,this.hc=(new s.I).copy(h),this.dl=r}get onChange(){return this.dl}set onChange(t){this.dl=t}get offsetX(){return this.tc}set offsetX(t){var e;this.tc=t,null===(e=this.dl)||void 0===e||e.call(this)}get offsetY(){return this.sc}set offsetY(t){var e;this.sc=t,null===(e=this.dl)||void 0===e||e.call(this)}get blur(){return this.ul}set blur(t){var e;this.ul=t,null===(e=this.dl)||void 0===e||e.call(this)}get color(){return this.hc}set color(t){var e;this.hc.copy(t),null===(e=this.dl)||void 0===e||e.call(this)}copy(t){var e;this.tc=t.offsetX,this.sc=t.offsetY,this.ul=t.blur,this.hc.copy(t.color),null===(e=this.dl)||void 0===e||e.call(this)}clone(){return new h(this.tc,this.sc,this.ul,this.hc.clone(),this.dl)}toString(){return"drop-shadow("+this.tc+"px "+this.sc+"px "+this.ul+"px "+this.hc.toString()+")"}}class r{constructor(t=null){this.ul=0,this.eu=1,this.ru=1,this.nu=null,this.ou=0,this.uu=0,this.au=0,this.lu=1,this.du=0,this.dl=t}get blur(){return this.ul}set blur(t){var e;this.ul=t,null===(e=this.dl)||void 0===e||e.call(this)}get brightness(){return this.eu}set brightness(t){var e;this.eu=t,null===(e=this.dl)||void 0===e||e.call(this)}get contrast(){return this.ru}set contrast(t){var e;this.ru=t,null===(e=this.dl)||void 0===e||e.call(this)}get dropShadow(){return this.nu}set dropShadow(t){t?(this.nu||(this.nu=new h(void 0,void 0,void 0,void 0,this.dl)),this.nu.copy(t)):this.nu&&(this.nu.onChange=null,this.nu=null)}get grayscale(){return this.ou}set grayscale(t){var e;this.ou=t,null===(e=this.dl)||void 0===e||e.call(this)}get hueRotate(){return this.uu}set hueRotate(t){var e;this.uu=t,null===(e=this.dl)||void 0===e||e.call(this)}get invert(){return this.au}set invert(t){var e;this.au=t,null===(e=this.dl)||void 0===e||e.call(this)}get saturate(){return this.lu}set saturate(t){var e;this.lu=t,null===(e=this.dl)||void 0===e||e.call(this)}get sepia(){return this.du}set sepia(t){var e;this.du=t,null===(e=this.dl)||void 0===e||e.call(this)}toString(){let t="";return 0!==this.ul&&(t+="blur("+this.ul+"px) "),1!==this.eu&&(t+="brightness("+this.eu+") "),1!==this.ru&&(t+="contrast("+this.ru+") "),0!==this.ou&&(t+="grayscale("+this.ou+") "),0!==this.uu&&(t+="hue-rotate("+this.uu+"deg) "),0!==this.au&&(t+="invert("+this.au+") "),1!==this.lu&&(t+="saturate("+this.lu+") "),0!==this.du&&(t+="sepia("+this.du+") "),this.nu&&(t+=this.nu.toString()),t}}}}]);