"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[306],{8908:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>j,contentTitle:()=>y,default:()=>S,frontMatter:()=>v,metadata:()=>f,toc:()=>O});var i=s(7462),h=(s(7294),s(3905)),n=s(719),r=s(708),l=s(4837),a=s(1022),o=s(3674),c=s(7888),d=s(1466);class u extends o.w{constructor(){super(...arguments),this.disallowMultipleComponent=!0,this.requiredComponents=[l.V],this.Nn=null,this.qn=null,this.Ih=1,this.Th=1,this.zn=18,this.Jn=10,this.Qn=.2,this.$n=new a.P(NaN,NaN,NaN)}awake(){const t=new c.s;this.qn=this.gameObject.addChildFromBuilder(this.engine.instantiater.buildGameObject("grid-renderer",new a.P(0,0,-1),void 0,new a.P(this.Qn,this.Qn,this.Qn)).active(!1).withComponent(d.w,(t=>{const e=document.createElement("div");e.style.backgroundImage="                        repeating-linear-gradient(#999 0 1px, transparent 1px 100%),                        repeating-linear-gradient(90deg, #999 0 1px, transparent 1px 100%)",e.style.backgroundSize=this.Ih/this.Qn/.1+"px "+this.Th/this.Qn/.1+"px",t.elementWidth=this.zn/this.Qn,t.elementHeight=this.Jn/this.Qn,t.pointerEvents=!1,t.element=e})).getComponent(d.w,t)),this.Nn=t.ref}onEnable(){this.qn.exists&&(this.qn.activeSelf=!0)}onDisable(){this.qn.exists&&(this.qn.activeSelf=!1)}update(){const t=this.transform.position,e=this.zn/this.Qn/2,s=this.Jn/this.Qn/2,i=this.Ih/this.Qn/.1,h=this.Th/this.Qn/.1,n=e%i,r=s%h;t.equals(this.$n)||(this.Nn.element.style.backgroundPosition=-t.x/.1/this.Qn+n+i/2-.5+"px "+(t.y/.1/this.Qn+r+h/2-.5)+"px")}onDestroy(){var t;null===(t=this.qn)||void 0===t||t.destroy()}get gridCellWidth(){return this.Ih}set gridCellWidth(t){this.Ih=t}get gridCellHeight(){return this.Th}set gridCellHeight(t){this.Th=t}get renderWidth(){return this.zn}set renderWidth(t){this.zn=t}get renderHeight(){return this.Jn}set renderHeight(t){this.Jn=t}get lineWidth(){return this.Qn}set lineWidth(t){this.Qn=t}}var m=s(8788),p=s(4114);class g extends o.w{constructor(){super(...arguments),this.disallowMultipleComponent=!0,this.requiredComponents=[l.V],this.mh=null,this.fh=!1,this.ph=1,this.Vh=new p.F,this.wh=1,this.zh=10,this.xh=5,this.Sh=5,this.bh=new a.P,this._h=t=>{" "===t.key&&(this.Sh=this.xh,this.Bh(),this.transform.localPosition.copy(this.bh))},this.Eh=t=>{this.Sh+=.01*t.deltaY,this.Sh<this.wh?this.Sh=this.wh:this.Sh>this.zh&&(this.Sh=this.zh),this.Bh()},this.vr=t=>{this.Vh.set(t.clientX/this.engine.screen.width,t.clientY/this.engine.screen.height),t.button===this.ph&&(this.fh=!0)},this.Mh=t=>{t.button===this.ph&&(this.fh=!1)},this.jh=t=>{if(!this.fh)return;const e=t.clientX/this.engine.screen.width,s=t.clientY/this.engine.screen.height,i=e-this.Vh.x,h=s-this.Vh.y,n=this.engine.screen.width/this.engine.screen.height;this.transform.localPosition.x-=i*this.mh.viewSize*2*n,this.transform.localPosition.y+=h*this.mh.viewSize*2,this.Vh.set(e,s)},this.kh=t=>{this.fh=!1}}awake(){this.mh=this.gameObject.getComponent(l.V),this.xh=this.mh.viewSize,this.bh.copy(this.transform.localPosition),this.Sh=this.xh,this.mh.viewSize=this.Sh}onEnable(){const t=this.engine.input;t.onKeyDown.addListener(this._h),t.onWheel.addListener(this.Eh),t.onPointerDown.addListener(this.vr),t.onPointerUp.addListener(this.Mh),t.onPointerMove.addListener(this.jh),t.onPointerLeave.addListener(this.kh)}onDisable(){const t=this.engine.input;t.onKeyDown.removeListener(this._h),t.onWheel.removeListener(this.Eh),t.onPointerDown.removeListener(this.vr),t.onPointerUp.removeListener(this.Mh),t.onPointerMove.removeListener(this.jh),t.onPointerLeave.removeListener(this.kh)}Bh(){this.mh&&(this.mh.viewSize=this.Sh)}get minViewSize(){return this.wh}set minViewSize(t){this.wh=t,this.Sh<this.wh&&(this.Sh=this.wh,this.Bh())}get maxViewSize(){return this.zh}set maxViewSize(t){this.zh=t,this.Sh>this.zh&&(this.Sh=this.zh,this.Bh())}get mouseMoveButton(){return this.ph}set mouseMoveButton(t){this.ph=t}}class b extends r.A{run(){const t=this.instantiater;return this.sceneBuilder.withChild(t.buildGameObject("camera").withComponent(l.V).withComponent(u,(t=>{t.renderWidth=50,t.renderHeight=50}))).withChild(t.buildGameObject("object1").withComponent(m._))}}class w extends r.A{run(){const t=this.instantiater;return this.sceneBuilder.withChild(t.buildGameObject("camera").withComponent(l.V).withComponent(u,(t=>{t.renderWidth=50,t.renderHeight=50})).withComponent(g,(t=>{t.mouseMoveButton=0}))).withChild(t.buildGameObject("object1").withComponent(m._))}}const v={},y="Debug Components",f={unversionedId:"getting-started/debug-components",id:"getting-started/debug-components",title:"Debug Components",description:"Let's look at the built-in components for debugging purposes.",source:"@site/docs/1-getting-started/10-debug-components.mdx",sourceDirName:"1-getting-started",slug:"/getting-started/debug-components",permalink:"/the-world-engine.ts/build/docs/getting-started/debug-components",draft:!1,editUrl:"https://github.com/The-World-Space/the-world-engine.ts/tree/main/docs/docusaurus/docs/1-getting-started/10-debug-components.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Coroutines",permalink:"/the-world-engine.ts/build/docs/getting-started/coroutines"},next:{title:"Create Project",permalink:"/the-world-engine.ts/build/docs/tutorial-2dtopdown/create-project"}},j={},O=[{value:"EditorGridRenderer",id:"editorgridrenderer",level:2},{value:"EditorCameraController",id:"editorcameracontroller",level:2}],D={toc:O};function S(t){let{components:e,...s}=t;return(0,h.kt)("wrapper",(0,i.Z)({},D,s,{components:e,mdxType:"MDXLayout"}),(0,h.kt)("h1",{id:"debug-components"},"Debug Components"),(0,h.kt)("p",null,"Let's look at the built-in components for debugging purposes."),(0,h.kt)("h2",{id:"editorgridrenderer"},"EditorGridRenderer"),(0,h.kt)("p",null,"editor grid renderer is used to render the grid."),(0,h.kt)("pre",null,(0,h.kt)("code",{parentName:"pre",className:"language-typescript"},'export class Bootstrapper extends BaseBootstrapper {\n    public run(): SceneBuilder {\n        const instantiater = this.instantiater;\n\n        return this.sceneBuilder\n            .withChild(instantiater.buildGameObject("camera")\n                .withComponent(Camera)\n                .withComponent(EditorGridRenderer, c => {\n                    c.renderWidth = 50;\n                    c.renderHeight = 50;\n                }))\n\n            .withChild(instantiater.buildGameObject("object1")\n                .withComponent(CssSpriteRenderer))\n        ;\n    }\n}\n')),(0,h.kt)(n.Z,{bootstrapper:b,ignoreEvents:!0,mdxType:"DocumentGame"}),(0,h.kt)("h2",{id:"editorcameracontroller"},"EditorCameraController"),(0,h.kt)("p",null,"editor camera controller is used to control the camera in 2D space."),(0,h.kt)("pre",null,(0,h.kt)("code",{parentName:"pre",className:"language-typescript"},'import { \n    Bootstrapper as BaseBootstrapper,\n    Camera,\n    CssSpriteRenderer,\n    EditorCameraController,\n    EditorGridRenderer,\n    SceneBuilder\n} from "the-world-engine";\n\nexport class Bootstrapper1 extends BaseBootstrapper {\n    public run(): SceneBuilder {\n        const instantiater = this.instantiater;\n\n        return this.sceneBuilder\n            .withChild(instantiater.buildGameObject("camera")\n                .withComponent(Camera)\n                .withComponent(EditorGridRenderer, c => {\n                    c.renderWidth = 50;\n                    c.renderHeight = 50;\n                })\n                .withComponent(EditorCameraController, c => {\n                    c.mouseMoveButton = 0;\n                }))\n\n            .withChild(instantiater.buildGameObject("object1")\n                .withComponent(CssSpriteRenderer))\n        ;\n    }\n}\n')),(0,h.kt)(n.Z,{bootstrapper:w,handleEvents:!0,mdxType:"DocumentGame"}))}S.isMDXComponent=!0},3367:(t,e,s)=>{s.d(e,{Q:()=>i});class i{}i.defaultSpriteSrc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA8SURBVDhP7dEhCgAxDADB+/k9Lh8rDCtq6yo6JrAhKt9s/k2JEjceNGlPiRI3HjRpT4kS7w81SpQ4PJhZxl3jEH3ZDWcAAAAASUVORK5CYII="},7888:(t,e,s)=>{s.d(e,{s:()=>i});class i{constructor(t=null){this.ref=t}}},1466:(t,e,s)=>{s.d(e,{w:()=>n});var i=s(4627),h=s(7161);class n extends h.Y{constructor(){super(...arguments),this.tu=1,this.su=1,this.iu=!1,this.xa=null}renderInitialize(){var t;null===(t=this.xa)||void 0===t||t.call(this),this.htmlElement||(this.element=null)}updateCenterOffset(t){if(!this.css3DObject)return;let e,s;if(this.iu)if(this.css3DObject.element.parentElement){const t=this.css3DObject.element.style.display;this.css3DObject.element.style.display="",e=this.css3DObject.element.offsetWidth*this.viewScale,s=this.css3DObject.element.offsetHeight*this.viewScale,this.css3DObject.element.style.display=t}else{const t=this.css3DObject.element.style.display;this.css3DObject.element.style.display="";const i=this.css3DObject.element.style.transform;this.css3DObject.element.style.transform="translateX(1000000px)",document.body.appendChild(this.css3DObject.element),e=this.css3DObject.element.offsetWidth*this.viewScale,s=this.css3DObject.element.offsetHeight*this.viewScale,this.css3DObject.element.style.display=t,this.css3DObject.element.style.transform=i,document.body.removeChild(this.css3DObject.element)}else e=this.tu,s=this.su;this.css3DObject.position.set(e*this.centerOffset.x,s*this.centerOffset.y,0),t&&(i.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}updateViewScale(t){if(!this.css3DObject)return;const e=this.viewScale;this.iu?(this.css3DObject.scale.set(e,e,e),this.updateCenterOffset(!1)):(this.css3DObject.element.style.width=this.tu/this.viewScale+"px",this.css3DObject.element.style.height=this.su/this.viewScale+"px",this.css3DObject.scale.set(e,e,e)),t&&(i.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get element(){return this.htmlElement}set element(t){const e=this.htmlElement=null!=t?t:document.createElement("div");this.readyToDraw?this.hu(e):this.xa=()=>this.hu(e)}hu(t){this.iu?(t.style.width="auto",t.style.height="auto"):(t.style.width=this.tu/this.viewScale+"px",t.style.height=this.su/this.viewScale+"px");const e=this.initializeBaseComponents(!0);i.w.updateRawObject3DWorldMatrixRecursively(e),this.transform.enqueueRenderAttachedObject3D(e)}get elementWidth(){if(this.iu){if(this.htmlElement){const t=this.htmlElement.style.display;this.htmlElement.style.display="";const e=this.htmlElement.offsetWidth*this.viewScale;return this.htmlElement.style.display=t,e}return 0}return this.tu}set elementWidth(t){this.iu||(this.tu=t,this.htmlElement&&(this.htmlElement.style.width=t/this.viewScale+"px"),this.updateCenterOffset(!0))}get elementHeight(){if(this.iu){if(this.htmlElement){const t=this.htmlElement.style.display;this.htmlElement.style.display="";const e=this.htmlElement.offsetHeight*this.viewScale;return this.htmlElement.style.display=t,e}return 0}return this.su}set elementHeight(t){this.iu||(this.su=t,this.htmlElement&&(this.htmlElement.style.height=t/this.viewScale+"px"),this.updateCenterOffset(!0))}get autoSize(){return this.iu}set autoSize(t){this.iu=t,this.htmlElement&&(t?(this.htmlElement.style.width="auto",this.htmlElement.style.height="auto"):(this.htmlElement.style.width=this.tu/this.viewScale+"px",this.htmlElement.style.height=this.su/this.viewScale+"px"))}}},8788:(t,e,s)=>{s.d(e,{_:()=>l});var i=s(3367),h=s(4627),n=s(7161),r=s(3379);class l extends n.Y{constructor(){super(...arguments),this.Ga=0,this.Ha=0,this.Xa=!1,this.Ya=!1,this.$a=1,this.ka=()=>{this.htmlElement&&(this.htmlElement.style.filter=this.Ui.toString())},this.Ui=new r.c(this.ka),this.xa=null}renderInitialize(){this.xa?this.xa():this.asyncSetImageFromPath(i.Q.defaultSpriteSrc)}updateCenterOffset(t){this.css3DObject&&(this.css3DObject.position.set(this.Ga*this.centerOffset.x,this.Ha*this.centerOffset.y,0),t&&(h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject)))}updateViewScale(t){if(!this.css3DObject)return;const e=this.viewScale,s=this.htmlElement;s.style.width=this.Ga/this.viewScale+"px",s.style.height=this.Ha/this.viewScale+"px";const i=this.Xa?-1:1,n=this.Ya?-1:1;this.css3DObject.scale.set(e*i,e*n,e),t&&(h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get image(){return this.htmlElement}asyncSetImageFromPath(t,e){var s;if(!this.readyToDraw)return void(this.xa=()=>this.asyncSetImageFromPath(t,e));const i=null!==(s=this.htmlElement)&&void 0!==s?s:new Image;i.src=t;const h=t=>{this.exists&&(i.removeEventListener("load",h),this.setImage(i),null==e||e())};i.addEventListener("load",h)}setImage(t){if(!t.complete)throw new Error(`Image {${t.src}} is not loaded.`);if(this.htmlElement=t,!this.readyToDraw)return void(this.xa=()=>this.setImage(t));t.alt=this.gameObject.name+"_sprite",t.style.imageRendering="pixelated",0===this.Ga&&(this.Ga=.1*t.naturalWidth),0===this.Ha&&(this.Ha=.1*t.naturalHeight),t.style.width=this.Ga/this.viewScale+"px",t.style.height=this.Ha/this.viewScale+"px",t.style.opacity=this.$a.toString(),t.style.filter=this.Ui.toString();const e=this.initializeBaseComponents(!1);h.w.updateRawObject3DWorldMatrixRecursively(e),this.transform.enqueueRenderAttachedObject3D(e)}get imageWidth(){return this.Ga}set imageWidth(t){this.Ga=t,this.htmlElement&&(this.htmlElement.style.width=t/this.viewScale+"px"),this.updateCenterOffset(!0)}get imageHeight(){return this.Ha}set imageHeight(t){this.Ha=t,this.htmlElement&&(this.htmlElement.style.height=t/this.viewScale+"px"),this.updateCenterOffset(!0)}get imageFlipX(){return this.Xa}set imageFlipX(t){this.Xa=t,this.css3DObject&&(this.Xa?0<this.css3DObject.scale.x&&(this.css3DObject.scale.x*=-1):this.css3DObject.scale.x<0&&(this.css3DObject.scale.x*=-1),h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get imageFlipY(){return this.Ya}set imageFlipY(t){this.Ya=t,this.css3DObject&&(this.Ya?0<this.css3DObject.scale.y&&(this.css3DObject.scale.y*=-1):this.css3DObject.scale.y<0&&(this.css3DObject.scale.y*=-1),h.w.updateRawObject3DWorldMatrixRecursively(this.css3DObject),this.transform.enqueueRenderAttachedObject3D(this.css3DObject))}get opacity(){return this.$a}set opacity(t){this.$a=t,this.htmlElement&&(this.htmlElement.style.opacity=this.$a.toString())}get filter(){return this.Ui}}},3379:(t,e,s)=>{s.d(e,{c:()=>n});var i=s(9760);class h{constructor(t=0,e=0,s=0,h=new i.I,n=null){this.tc=t,this.sc=e,this.ul=s,this.hc=(new i.I).copy(h),this.dl=n}get onChange(){return this.dl}set onChange(t){this.dl=t}get offsetX(){return this.tc}set offsetX(t){var e;this.tc=t,null===(e=this.dl)||void 0===e||e.call(this)}get offsetY(){return this.sc}set offsetY(t){var e;this.sc=t,null===(e=this.dl)||void 0===e||e.call(this)}get blur(){return this.ul}set blur(t){var e;this.ul=t,null===(e=this.dl)||void 0===e||e.call(this)}get color(){return this.hc}set color(t){var e;this.hc.copy(t),null===(e=this.dl)||void 0===e||e.call(this)}copy(t){var e;this.tc=t.offsetX,this.sc=t.offsetY,this.ul=t.blur,this.hc.copy(t.color),null===(e=this.dl)||void 0===e||e.call(this)}clone(){return new h(this.tc,this.sc,this.ul,this.hc.clone(),this.dl)}toString(){return"drop-shadow("+this.tc+"px "+this.sc+"px "+this.ul+"px "+this.hc.toString()+")"}}class n{constructor(t=null){this.ul=0,this.eu=1,this.ru=1,this.nu=null,this.ou=0,this.uu=0,this.au=0,this.lu=1,this.du=0,this.dl=t}get blur(){return this.ul}set blur(t){var e;this.ul=t,null===(e=this.dl)||void 0===e||e.call(this)}get brightness(){return this.eu}set brightness(t){var e;this.eu=t,null===(e=this.dl)||void 0===e||e.call(this)}get contrast(){return this.ru}set contrast(t){var e;this.ru=t,null===(e=this.dl)||void 0===e||e.call(this)}get dropShadow(){return this.nu}set dropShadow(t){t?(this.nu||(this.nu=new h(void 0,void 0,void 0,void 0,this.dl)),this.nu.copy(t)):this.nu&&(this.nu.onChange=null,this.nu=null)}get grayscale(){return this.ou}set grayscale(t){var e;this.ou=t,null===(e=this.dl)||void 0===e||e.call(this)}get hueRotate(){return this.uu}set hueRotate(t){var e;this.uu=t,null===(e=this.dl)||void 0===e||e.call(this)}get invert(){return this.au}set invert(t){var e;this.au=t,null===(e=this.dl)||void 0===e||e.call(this)}get saturate(){return this.lu}set saturate(t){var e;this.lu=t,null===(e=this.dl)||void 0===e||e.call(this)}get sepia(){return this.du}set sepia(t){var e;this.du=t,null===(e=this.dl)||void 0===e||e.call(this)}toString(){let t="";return 0!==this.ul&&(t+="blur("+this.ul+"px) "),1!==this.eu&&(t+="brightness("+this.eu+") "),1!==this.ru&&(t+="contrast("+this.ru+") "),0!==this.ou&&(t+="grayscale("+this.ou+") "),0!==this.uu&&(t+="hue-rotate("+this.uu+"deg) "),0!==this.au&&(t+="invert("+this.au+") "),1!==this.lu&&(t+="saturate("+this.lu+") "),0!==this.du&&(t+="sepia("+this.du+") "),this.nu&&(t+=this.nu.toString()),t}}}}]);